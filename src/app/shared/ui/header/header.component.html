<header class="topbar">
    <div>
        <a
            href="https://github.com/shembel/url-shortener"
            target="_blank"
            rel="noopener noreferrer"
            class="ml-4 text-2xl"
            [tuiHint]="'Source code'"
        >
            <img src="assets/logos/github-mark.png" alt="Github cat image">
        </a>
    </div>

    <div *ngIf="authUser$ | async as user; else login">
        <tui-hosted-dropdown tuiDropdownAlign="left" [content]="userDropdown">
            <tui-avatar
                [text]="user.firstName + ' ' + user.lastName"
                class="cursor-pointer"
            ></tui-avatar>
        </tui-hosted-dropdown>
        <ng-template #userDropdown>
            <tui-data-list role="menu">
                <tui-opt-group [label]="user.firstName + ' ' + user.lastName">
                    <button tuiOption (click)="logout()">
              <span>
                <tui-svg class="mr-2" src="tuiIconLogoutLarge"></tui-svg>
                Logout
              </span>
                    </button>
                </tui-opt-group>
            </tui-data-list>
        </ng-template>
    </div>

    <div>
        <a
            tuiButton
            size="m"
            routerLink="/"
            [appearance]="'outline'"
            icon="tuiIconHome"
        >
            Home
        </a>

        <a
            tuiButton
            size="m"
            routerLink="/dashboard"
            [appearance]="'outline'"
            icon="tuiIconBarChart2"
        >
            Dashboard
        </a>
    </div>

    <ng-template #login>
        <a
            tuiButton
            size="m"
            routerLink="/login"
            [appearance]="'outline'"
            icon="tuiIconUser"
        >
            Login
        </a>
    </ng-template>

</header>
